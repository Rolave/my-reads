(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(A,e){A.exports="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAyAAD/4QMuaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA2LjAtYzAwMiA3OS4xNjQzNTIsIDIwMjAvMDEvMzAtMTU6NTA6MzggICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4xIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjE0MUFBQjAzQThBRTExRUJBRjNFRUM4NjVCRDBENTJBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjE0MUFBQjA0QThBRTExRUJBRjNFRUM4NjVCRDBENTJBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTQxQUFCMDFBOEFFMTFFQkFGM0VFQzg2NUJEMEQ1MkEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTQxQUFCMDJBOEFFMTFFQkFGM0VFQzg2NUJEMEQ1MkEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAIBgYGBgYIBgYIDAgHCAwO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"},23:function(A,e,t){A.exports=t(36)},34:function(A,e,t){},35:function(A,e,t){},36:function(A,e,t){"use strict";t.r(e);var a=t(0),n=t.n(a),o=t(16),r=t.n(o),c=t(6),l=t(1),s=t(5),u=t.n(s),i=t(8),m=t(9),b=t(2),h="https://reactnd-books-api.udacity.com",E=localStorage.token;E||(E=localStorage.token=Math.random().toString(36).substr(-8));var p={Accept:"application/json",Authorization:E},d=function(){return fetch("".concat(h,"/books"),{headers:p}).then(function(A){return A.json()}).then(function(A){return A.books})},k=function(A,e){return fetch("".concat(h,"/books/").concat(A.id),{method:"PUT",headers:Object(b.a)(Object(b.a)({},p),{},{"Content-Type":"application/json"}),body:JSON.stringify({shelf:e})}).then(function(A){return A.json()})},v=function(A){return fetch("".concat(h,"/search"),{method:"POST",headers:Object(b.a)(Object(b.a)({},p),{},{"Content-Type":"application/json"}),body:JSON.stringify({query:A})}).then(function(A){return A.json()}).then(function(A){return A.books})},f=Object(a.createContext)(),O=function(A,e){switch(e.type){case"GET_ALL_BOOKS":return Object(b.a)(Object(b.a)({},A),{},{books:e.payload});case"GET_BOOK":return Object(b.a)(Object(b.a)({},A),{},{book:e.payload});case"SEARCH_BOOKS":return Object(b.a)(Object(b.a)({},A),{},{booksResults:e.payload});case"UPDATE_BOOK":return Object(b.a)(Object(b.a)({},A),{},{books:e.payload});default:return A}},y=function(A){var e=Object(a.useReducer)(O,{book:{},books:[],booksResults:[]}),t=Object(m.a)(e,2),o=t[0],r=t[1],c=function(){var A=Object(i.a)(u.a.mark(function A(){var e;return u.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,d();case 2:e=A.sent,r({type:"GET_ALL_BOOKS",payload:e});case 4:case"end":return A.stop()}},A)}));return function(){return A.apply(this,arguments)}}(),l=function(){var A=Object(i.a)(u.a.mark(function A(e){var t;return u.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,a=e,fetch("".concat(h,"/books/").concat(a),{headers:p}).then(function(A){return A.json()}).then(function(A){return A.book});case 2:t=A.sent,r({type:"GET_BOOK",payload:t});case 4:case"end":return A.stop()}var a},A)}));return function(e){return A.apply(this,arguments)}}(),s=function(){var A=Object(i.a)(u.a.mark(function A(e){var t;return u.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,v(e).then(function(A){return Array.isArray(A)&&A.length>0?A:[]});case 2:t=A.sent,r({type:"SEARCH_BOOKS",payload:t});case 4:case"end":return A.stop()}},A)}));return function(e){return A.apply(this,arguments)}}(),b=function(){var A=Object(i.a)(u.a.mark(function A(e,t){var a;return u.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,k(e,t).then(function(){return d()});case 2:a=A.sent,r({type:"UPDATE_BOOK",payload:a});case 4:case"end":return A.stop()}},A)}));return function(e,t){return A.apply(this,arguments)}}();return n.a.createElement(f.Provider,{value:{book:o.book,books:o.books,booksResults:o.booksResults,getAllBooks:c,getBook:l,searchBooks:s,updateBook:b}},A.children)},R=function(){return n.a.createElement("div",{className:"list-books-title"},n.a.createElement("h1",null,"MyReads"))},j=t(17),M=t(18),B=t(22),N=t(21),g=function(A){var e=Object(a.useContext)(f);return n.a.createElement("div",{className:"book-shelf-changer"},n.a.createElement("select",{onChange:function(t){var a=A.book,n=t.target.value;""!==n&&e.updateBook(a,n)}},n.a.createElement("option",{value:""},"Move to..."),n.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),n.a.createElement("option",{value:"wantToRead"},"Want to Read"),n.a.createElement("option",{value:"read"},"Read"),n.a.createElement("option",{value:"none"},"None")))},I=t(19),T=t.n(I),x=function(A){Object(B.a)(t,A);var e=Object(N.a)(t);function t(){return Object(j.a)(this,t),e.apply(this,arguments)}return Object(M.a)(t,[{key:"render",value:function(){var A=this.props.book;return n.a.createElement("li",null,n.a.createElement("div",{className:"book"},n.a.createElement("div",{className:"book-top"},n.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:"url(".concat(A.imageLinks?A.imageLinks.thumbnail:T.a,")")}}),n.a.createElement(g,{book:A})),n.a.createElement("div",{className:"book-title"},A.title),n.a.createElement("div",{className:"book-authors"},A.authors?A.authors.join(", "):"")))}}]),t}(a.Component),z=function(A){var e=A.bookshelfTitle,t=A.books;return n.a.createElement("div",{className:"bookshelf"},n.a.createElement("h2",{className:"bookshelf-title"},e),n.a.createElement("div",{className:"bookshelf-books"},n.a.createElement("ol",{className:"books-grid"},t.map(function(A){return n.a.createElement(x,{key:A.id,book:A})}))))},Q=function(){var A=Object(a.useContext)(f),e=A.books,t=A.getAllBooks;return Object(a.useEffect)(function(){t()},[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(R,null),n.a.createElement("div",{className:"list-books"},n.a.createElement("div",{className:"list-books-content"},n.a.createElement(z,{books:e.filter(function(A){return"currentlyReading"===A.shelf}),bookshelfTitle:"Currently Reading"}),n.a.createElement(z,{books:e.filter(function(A){return"wantToRead"===A.shelf}),bookshelfTitle:"Want To Read"}),n.a.createElement(z,{books:e.filter(function(A){return"read"===A.shelf}),bookshelfTitle:"Read"})),n.a.createElement("div",{className:"open-search"},n.a.createElement(c.b,{to:"/search"},n.a.createElement("button",{type:"button"},"Add a book")))))},C=function(){var A=Object(a.useContext)(f),e=Object(a.useState)(""),t=Object(m.a)(e,2),o=t[0],r=t[1];return n.a.createElement("div",{className:"search-books-bar"},n.a.createElement(c.b,{to:"/"},n.a.createElement("button",{className:"close-search",type:"button"},"Close")),n.a.createElement("div",{className:"search-books-input-wrapper"},n.a.createElement("input",{type:"search",placeholder:"Search by title or author",value:o,onChange:function(e){var t=e.target.value;r(t),A.searchBooks(t)}})))},G=function(A){return n.a.createElement("div",{className:"search-books-results"},n.a.createElement("ol",{className:"books-grid"},A.books.length>0&&A.books.map(function(A){return n.a.createElement(x,{key:A.id,book:A})})))},w=function(){var A=Object(a.useContext)(f);return n.a.createElement("div",{className:"search-books"},n.a.createElement(C,null),n.a.createElement(G,{books:A.booksResults}))},U=(t(34),function(){return n.a.createElement(y,null,n.a.createElement("div",{className:"app"},n.a.createElement(c.a,{basename:"https://rolave.github.io/my-reads"},n.a.createElement(l.c,null,n.a.createElement(l.a,{exact:!0,path:"/",component:Q}),n.a.createElement(l.a,{exact:!0,path:"/search",component:w})))))});t(35);r.a.render(n.a.createElement(c.a,null,n.a.createElement(U,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.3cdfd438.chunk.js.map